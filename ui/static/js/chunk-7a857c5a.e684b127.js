(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a857c5a"],{"61db":function(t,e,i){"use strict";var n=i("1da1"),s=i("b85c"),a=(i("96cf"),i("a9e3"),i("a434"),i("cf45"));e["a"]={props:{visible:{type:void 0|Boolean,required:!0},condition:{type:Object,default:function(){return{}}},limit:{type:Number,default:0}},computed:{isSingle:function(){return 1==this.limit},dialogVisible:{get:function(){return this.visible&&this.handleClear(),!!this.visible},set:function(t){this.$emit("update:visible",t)}}},methods:{handleRequest:function(t){Object.assign(this.tableConfig.condition,this.condition),t&&Object.assign(this.tableConfig.condition,t),this.$refs.tableBuilder.loadData()},handleClear:function(){this.selectedData=[]},handleSelect:function(t){if(1==this.limit)return this.selectedData=[t],void this.formSubmit();var e,i=Object(s["a"])(this.selectedData);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n==t)return}}catch(l){i.e(l)}finally{i.f()}0!=this.limit&&this.selectedData.length>=this.limit?Object(a["e"])("最多选择 ".concat(this.limit," 项"),"info"):(this.selectedData.push(t),console.log(this.selectedData))},remove:function(t){this.selectedData.splice(t,1)},formSubmit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("update:visible",!1),this.$emit("onSubmit",this.selectedData);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}},"7f33":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("cui-dialog",{attrs:{title:"选择课程",visible:t.dialogVisible,width:t.isSingle?"650px":"800px",submitBtnText:"选好了",showSubmitBtn:!t.isSingle,"custom-class":"custom-dialog"},on:{"update:visible":function(e){t.dialogVisible=e},submit:t.formSubmit}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:t.isSingle?24:12}},[i("cui-search",{attrs:{config:t.searchConfig},on:{handleRequest:t.handleRequest}}),i("cui-table",{ref:"tableBuilder",attrs:{config:t.tableConfig}})],1),t.isSingle?t._e():i("el-col",{attrs:{span:12}},[i("el-form",{staticStyle:{"margin-bottom":"16px"},attrs:{"label-width":"80px",size:"mini"}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticStyle:{flex:"1"}},[i("div",{staticStyle:{"lin-height":"30px"}},[t._v("已选列表")])]),i("div",{staticClass:"text-right",staticStyle:{width:"100px"}},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.handleClear}},[t._v("清空")])],1)])]),i("el-table",{attrs:{border:"",data:t.selectedData,size:"small"}},[i("el-table-column",{attrs:{prop:"address",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.remove(e.$index)}}},[t._v(" < 移除")])]}}],null,!1,3858462404)}),i("el-table-column",{attrs:{prop:"title",label:"课程名称"}})],1)],1)],1)],1)},s=[],a=i("d282"),l=i("61db"),c={name:"LessonSelectDialog",mixins:[l["a"]],data:function(){var t=this,e=this.$createElement;return{tableConfig:{url:a["a"].lessonList,condition:this.condition,fields:[{title:"标题",name:"title"},{title:"日期",name:"date"},{title:"时间",content:function(t){return e("span",[t.startTime," ~ ",t.endTime])}}],actions:[{title:"选择 >",click:function(e){t.handleSelect(e)}}],height:450},selectedData:[],searchConfig:{fields:[{label:"班级",name:"classIds",type:"selectBox",code:"class"},{label:"课程",name:"courseIds",type:"selectBox",code:"course"}]}}}},o=c,r=i("2877"),u=Object(r["a"])(o,n,s,!1,null,"19085de6",null);e["default"]=u.exports}}]);